method = 'PhyDNet'
dataname = 'cikm'

# ==========================================================
# 1. 数据集参数 (直接复用 ConvLSTM 的平铺配置)
# ==========================================================
data_root = '/home/ps/data2/zp/data/cikm.h5'
pre_seq_length = 5      # 输入长度
aft_seq_length = 10     # 预测长度
total_length = 15       # 总长度

# 数据维度 [T, C, H, W]
in_shape = [5, 1, 128, 128]

# ==========================================================
# 2. 模型参数 (PhyDNet 特有)
# ==========================================================
# patch_size 是核心参数。
# CIKM 是 128x128。
# 如果 patch_size=4，特征图大小为 32x32，保留较多物理细节，但显存占用高。
# 如果 patch_size=8，特征图大小为 16x16，速度快，显存低，但可能丢失小尺度气象细节。
# 建议先尝试 4，如果爆显存(OOM)则改为 8。
patch_size = 2

# 隐藏层通道数，如果不写通常默认为 [64] 或类似，这里显式指定以防万一
num_hidden = '64,64,64'

# ==========================================================
# 3. 训练参数
# ==========================================================
# PhyDNet 包含物理约束模块(Moment Loss)，计算较重
batch_size = 32          # 建议从 8 或 4 开始
val_batch_size = 8
epoch = 200
lr = 1e-3               # PhyDNet 对学习率比较敏感，1e-3 是标准值
sched = 'cosine'        # 使用余弦退火调度器
warmup_epoch = 5

# ==========================================================
# 4. 评估指标
# ==========================================================
metrics = ['mse', 'mae', 'ssim', 'radar_metrics']